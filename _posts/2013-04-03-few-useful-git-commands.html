---
layout: post
title: Few useful Git commands
date: 2013-04-03 00:50:00.000000000 -07:00
categories:
- git
- git commands
tags: []
status: publish
type: post
published: true
meta:
  blogger_blog: www.hakimhanif.com
  blogger_author: Hakim Hanif
  blogger_permalink: "/2013/04/few-useful-git-commands.html"
  blogger_internal: "/feeds/2751951855380724535/posts/default/2253492636666753029"
author:
  login: hakimhanif
  email: hakim.hanif@gmail.com
  display_name: hakimhanif
  first_name: ''
  last_name: ''
---
<div dir="ltr" style="text-align: left;">
<div style="text-align: justify;">I have been using <a href="http://git-scm.com/" target="_blank">Git</a> at work for last couple of years now and I must say it has helped me a lot to be more productive and pushing out more and more features instead of either waiting for code reviews or waiting for the expensive branches (as in Perforce) to get created.</div>
<div style="text-align: justify;"></div>
<div style="text-align: justify;">I won't go into details on how Git has helped me and why I love this tool but rather will post some very useful commands that helps to get around some very tricky situations. I found these commands from various posts while looking for solutions to these problems I encountered while at work. So yes, these are not 'my' solutions but they do work.</div>
<div style="text-align: justify;"></div>
<p>
<div style="text-align: justify;"><b>How to get a list of un-pushed commits in git?</b></div>
<div style="text-align: justify;">Assuming your remote repository is named origin and youâ€™re dealing with the master branch:</div>
<div style="text-align: justify;">&nbsp;&nbsp;</div>
<div style="text-align: justify;">&nbsp; <b>$</b> git log master ^origin/master</div>
<div style="text-align: justify;"></div>
<div style="text-align: justify;">This shows what commits are in master but not in origin/master (which is the remote branch).</div>
<div style="text-align: justify;"></div>
<div style="text-align: justify;">This same syntax can be used to see the difference between two local branches, but will show cherry-picked commits as differences which can be confusing:</div>
<div style="text-align: justify;">&nbsp; &nbsp;</div>
<div style="text-align: justify;">&nbsp;<b>$</b> git log master ^production</div>
<div style="text-align: justify;"></div>
<div style="text-align: justify;"><b>Delete last commit</b></div>
<div style="text-align: justify;">To soft delete the commit before head. Alternatively you can refer to the SHA-1 of the hash you want to reset to. --soft option will delete the commit but it will leave all your changed files "Changes to be committed", as git status would put it.</div>
<div style="text-align: justify;"></div>
<div style="text-align: justify;"><b>$</b> git reset --soft HEAD~1</div>
<div style="text-align: justify;"></div>
<div style="text-align: justify;">If you want to get rid of any changes to tracked files in the working tree since the commit before head use --hard instead.</div>
<div style="text-align: justify;"></div>
<div style="text-align: justify;">Now if you already pushed and someone pulled which is usually my case, you can't use git reset. You can however do a git revert,</div>
<div style="text-align: justify;">&nbsp;&nbsp;</div>
<div style="text-align: justify;"><b>$</b> git revert HEAD</div>
<div style="text-align: justify;"></div>
<div style="text-align: justify;">This will create a new commit that reverses everything introduced by the accidental commit.</div>
<div style="text-align: justify;"></div>
<div style="text-align: justify;"><b>Make an existing git branch track a remote branch?</b></div>
<div style="text-align: justify;">Given a branch foo and a remote upstream, as of Git 1.7.0:</div>
<div style="text-align: justify;"></div>
<div style="text-align: justify;"><b>$</b> git branch --set-upstream foo upstream/foo</div>
<div style="text-align: justify;"></div>
<div style="text-align: justify;">That will cause Git to make local branch foo track remote branch foo from upstream.</div>
<div style="text-align: justify;"></div>
<div style="text-align: justify;"><b>How to undo "git commit --amend"?</b></div>
<div style="text-align: justify;">Move the current head so that it's pointing at the old commit. Leave the index intact for redoing the commit</div>
<div style="text-align: justify;"></div>
<div style="text-align: justify;"><b>$</b> git reset --soft HEAD@{1}</div>
<div style="text-align: justify;"></div>
<div style="text-align: justify;">commit the current tree using the commit details of the previous HEAD commit.&nbsp;</div>
<div style="text-align: justify;"></div>
<div style="text-align: justify;">(Note that HEAD@{1} is pointing somewhere different from the previous command. It's now pointing at the erroneously amended commit.)</div>
<div style="text-align: justify;"></div>
<div style="text-align: justify;"><b>$</b> git commit -C HEAD@{1}</div>
<div style="text-align: justify;"></div>
</div>
